<!DOCTYPE html>
<html>
  <head>
    <title>Admin Panel</title>
    <style>
      /* CSS styling code */
    </style>
  </head>
  <body>
    <h1>Admin Panel - Data Stok Kue</h1>

    <div id="cakeList">
      <table>
        <thead>
          <tr>
            <th>ID Menu</th>
            <th>Nama Kue</th>
            <th>Harga</th>
            <th>Jumlah Stok</th>
            <th>Detail</th>
            <th>Gambar</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <!-- Data kue akan ditambahkan secara dinamis menggunakan JavaScript -->
        </tbody>
      </table>
    </div>

    <div id="addCakeForm">
      <h2>Tambah Kue</h2>
      <div class="form-group">
        <label for="cakeID">ID Menu:</label>
        <input type="text" id="cakeID" required />
      </div>
      <div class="form-group">
        <label for="cakeName">Nama Kue:</label>
        <input type="text" id="cakeName" required />
      </div>
      <div class="form-group">
        <label for="cakePrice">Harga:</label>
        <input type="number" id="cakePrice" required />
      </div>
      <div class="form-group">
        <label for="cakeStock">Jumlah Stok:</label>
        <input type="number" id="cakeStock" required />
      </div>
      <div class="form-group">
        <label for="cakeDetail">Detail:</label>
        <textarea id="cakeDetail" required></textarea>
      </div>
      <div class="form-group">
        <label for="cakeImage">Gambar:</label>
        <input type="file" id="cakeImage" accept="image/*" required />
      </div>
      <button class="btn" onclick="addCake()">Tambah</button>
    </div>

    <div id="editCakeForm" style="display: none">
      <h2>Edit Kue</h2>
      <div class="form-group">
        <label for="editCakeID">ID Menu:</label>
        <input type="text" id="editCakeID" required />
      </div>
      <div class="form-group">
        <label for="editCakeName">Nama Kue:</label>
        <input type="text" id="editCakeName" required />
      </div>
      <div class="form-group">
        <label for="editCakePrice">Harga:</label>
        <input type="number" id="editCakePrice" required />
      </div>
      <div class="form-group">
        <label for="editCakeStock">Jumlah Stok:</label>
        <input type="number" id="editCakeStock" required />
      </div>
      <div class="form-group">
        <label for="editCakeDetail">Detail:</label>
        <textarea id="editCakeDetail" required></textarea>
      </div>
      <div class="form-group">
        <label for="editCakeImage">Gambar:</label>
        <input type="file" id="editCakeImage" accept="image/*" required />
      </div>
      <button class="btn" onclick="updateCake()">Update</button>
      <button class="btn" onclick="cancelEdit()">Batal</button>
    </div>

    <script>
      // Data dummy untuk simulasi
      let cakes = [
        {
          id: "001",
          name: "Kue Coklat",
          price: 10000,
          stock: 10,
          detail: "Kue coklat lezat dengan lapisan ganache.",
          image: "coklat.jpg",
        },
        {
          id: "002",
          name: "Kue Keju",
          price: 12000,
          stock: 15,
          detail: "Kue keju dengan topping gurih dan manis.",
          image: "keju.jpg",
        },
        {
          id: "003",
          name: "Kue Strawberry",
          price: 15000,
          stock: 5,
          detail: "Kue dengan rasa segar dan manisnya buah strawberry.",
          image: "strawberry.jpg",
        },
      ];

      let selectedCakeIndex = null;

      // Menampilkan data kue pada tabel
      function renderCakes() {
        const cakeTable = document.querySelector("#cakeList tbody");
        cakeTable.innerHTML = "";

        cakes.forEach((cake, index) => {
          const row = document.createElement("tr");
          row.innerHTML = `
          <td>${cake.id}</td>
          <td>${cake.name}</td>
          <td>${cake.price}</td>
          <td>${cake.stock}</td>
          <td>${cake.detail}</td>
          <td><img src="${cake.image}" width="100" height="100"></td>
          <td><button class="btn" onclick="editCake(${index})">Edit</button></td>
          <td><button class="btn" onclick="deleteCake(${index})">Hapus</button></td>
        `;

          cakeTable.appendChild(row);
        });
      }

      // Menambahkan kue baru
      function addCake() {
        const cakeID = document.querySelector("#cakeID").value;
        const cakeName = document.querySelector("#cakeName").value;
        const cakePrice = document.querySelector("#cakePrice").value;
        const cakeStock = document.querySelector("#cakeStock").value;
        const cakeDetail = document.querySelector("#cakeDetail").value;
        const cakeImage = document.querySelector("#cakeImage").value;

        if (
          cakeID &&
          cakeName &&
          cakePrice &&
          cakeStock &&
          cakeDetail &&
          cakeImage
        ) {
          const newCake = {
            id: cakeID,
            name: cakeName,
            price: parseInt(cakePrice),
            stock: parseInt(cakeStock),
            detail: cakeDetail,
            image: cakeImage,
          };

          cakes.push(newCake);
          renderCakes();
          clearForm();
        }
      }

      // Menghapus kue
      function deleteCake(index) {
        cakes.splice(index, 1);
        renderCakes();
      }

      // Menampilkan form edit kue
      function editCake(index) {
        selectedCakeIndex = index;
        const cake = cakes[index];
        document.querySelector("#editCakeID").value = cake.id;
        document.querySelector("#editCakeName").value = cake.name;
        document.querySelector("#editCakePrice").value = cake.price;
        document.querySelector("#editCakeStock").value = cake.stock;
        document.querySelector("#editCakeDetail").value = cake.detail;
        document.querySelector("#editCakeImage").value = cake.image;
        document.querySelector("#addCakeForm").style.display = "none";
        document.querySelector("#editCakeForm").style.display = "block";
      }

      // Mengupdate data kue yang diedit
      function updateCake() {
        const newID = document.querySelector("#editCakeID").value;
        const newName = document.querySelector("#editCakeName").value;
        const newPrice = document.querySelector("#editCakePrice").value;
        const newStock = document.querySelector("#editCakeStock").value;
        const newDetail = document.querySelector("#editCakeDetail").value;
        const newImage = document.querySelector("#editCakeImage").value;

        if (newID && newName && newPrice && newStock && newDetail && newImage) {
          const updatedCake = {
            id: newID,
            name: newName,
            price: parseInt(newPrice),
            stock: parseInt(newStock),
            detail: newDetail,
            image: newImage,
          };

          cakes[selectedCakeIndex] = updatedCake;
          renderCakes();
          cancelEdit();
        }
      }

      // Membatalkan edit kue
      function cancelEdit() {
        selectedCakeIndex = null;
        clearEditForm();
        document.querySelector("#addCakeForm").style.display = "block";
        document.querySelector("#editCakeForm").style.display = "none";
      }

      // Mengosongkan form tambah kue
      function clearForm() {
        document.querySelector("#cakeID").value = "";
        document.querySelector("#cakeName").value = "";
        document.querySelector("#cakePrice").value = "";
        document.querySelector("#cakeStock").value = "";
        document.querySelector("#cakeDetail").value = "";
        document.querySelector("#cakeImage").value = "";
      }

      // Mengosongkan form edit kue
      function clearEditForm() {
        document.querySelector("#editCakeID").value = "";
        document.querySelector("#editCakeName").value = "";
        document.querySelector("#editCakePrice").value = "";
        document.querySelector("#editCakeStock").value = "";
        document.querySelector("#editCakeDetail").value = "";
        document.querySelector("#editCakeImage").value = "";
      }

      // Memanggil fungsi renderCakes saat halaman dimuat
      window.onload = renderCakes;
    </script>
  </body>
</html>
